# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—É–±—ä–µ–∫—Ç–æ–≤ –∫ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º —Ç–µ–º–∞–º

## **1. –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è**
### –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏:
1. **–°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ç–µ–º–∞–º–∏**:
   - –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–µ–º–∞–º –Ω–∞ –æ—Å–Ω–æ–≤–µ LDA.
   - –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫ –∫–∞–∫–æ–π —Ç–µ–º–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å –Ω–∞–∏–±–æ–ª—å—à–µ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é (–æ—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞).

2. **–ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–π**:
   - –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç-–∞–Ω–∞–ª–∏–∑ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:
     - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: `POSITIVE`, `NEGATIVE`, `NEUTRAL`.
     - –ò–ª–∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å–ø–µ–∫—Ç—Ä—ã —ç–º–æ—Ü–∏–π: —Ä–∞–¥–æ—Å—Ç—å, –∑–ª–æ—Å—Ç—å, –≥—Ä—É—Å—Ç—å, —Å—Ç—Ä–∞—Ö.

3. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**:
   - –°—É–º–º–∏—Ä—É–µ–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–∞–∂–¥–æ–π —Ç–µ–º–æ–π.
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π –ø–æ —Å—É–±—ä–µ–∫—Ç–∞–º (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è–º —Å–æ–æ–±—â–µ–Ω–∏–π) –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã.

---

## **2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏**

### **A. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ç–µ–º**
–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è LDA, –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–µ–º–∞–º. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Ç–µ–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:
```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Ç–µ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
topic_distribution = lda.transform(text_data)

# –ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º–µ
message_topics = topic_distribution.argmax(axis=1)  # –ò–Ω–¥–µ–∫—Å —Ç–µ–º—ã —Å –Ω–∞–∏–±–æ–ª—å—à–µ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é

B. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
–ò—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, RuBERT:
from transformers import pipeline

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç–º–æ—Ü–∏–π
sentiment_analyzer = pipeline("sentiment-analysis", model="blanchefort/rubert-base-cased-sentiment")

# –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
sentiment_results = [
    sentiment_analyzer(msg) for msg in text_messages
]

C. –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
–°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É –∏–ª–∏ —Å–ª–æ–≤–∞—Ä—å, —Å–≤—è–∑—ã–≤–∞—é—â–∏–π:

–¢–µ–º—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ LDA).
–≠–º–æ—Ü–∏–∏ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç-–∞–Ω–∞–ª–∏–∑–∞).
–°—É–±—ä–µ–∫—Ç–æ–≤ (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π).

import pandas as pd

# –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
data = {
    "Message": text_messages,
    "Topic": message_topics,
    "Sentiment": [result[0]['label'] for result in sentiment_results],
    "Sender": [msg['from'] for msg in chat_data['messages'] if msg['type'] == 'message']
}

# –°–æ–∑–¥–∞–Ω–∏–µ DataFrame –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
df = pd.DataFrame(data)

# –ê–≥—Ä–µ–≥–∞—Ü–∏—è —ç–º–æ—Ü–∏–π –ø–æ —Ç–µ–º–∞–º –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è–º
emotion_by_topic = df.groupby(["Topic", "Sender"])["Sentiment"].value_counts().unstack(fill_value=0)
emotion_by_topic

3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –º—ã –ø–æ–ª—É—á–∞–µ–º:

–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ —Ç–µ–º–∞–º:

–ü—Ä–∏–º–µ—Ä: —Ç–µ–º–∞ "–ø—Ä–æ–µ–∫—Ç—ã" ‚Üí 10 —Å–æ–æ–±—â–µ–Ω–∏–π: 6 POSITIVE, 4 NEGATIVE.
–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π –ø–æ —Å—É–±—ä–µ–∫—Ç–∞–º:

–ü—Ä–∏–º–µ—Ä: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å User1 —á–∞—â–µ –≤—Å–µ–≥–æ –≤—ã—Ä–∞–∂–∞–µ—Ç –ø–æ–∑–∏—Ç–∏–≤ –ø–æ —Ç–µ–º–µ "–ø—Ä–æ–µ–∫—Ç—ã".
–û–±—â–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞:

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —ç–º–æ—Ü–∏–π –ø–æ —Ç–µ–º–∞–º:
–¢–µ–º–∞ 1: 60% –ø–æ–∑–∏—Ç–∏–≤, 30% –Ω–µ–≥–∞—Ç–∏–≤, 10% –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ.
4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
–û–±—â–∏–µ —ç–º–æ—Ü–∏–∏ –≥—Ä—É–ø–ø–æ–≤–æ–π –¥–∏–Ω–∞–º–∏–∫–∏:

–ö–∞–∫–∏–µ —Ç–µ–º—ã –≤—ã–∑—ã–≤–∞—é—Ç —Å–∞–º—ã–µ —Å–∏–ª—å–Ω—ã–µ —ç–º–æ—Ü–∏–∏ (–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏–ª–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ)?
–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —ç–º–æ—Ü–∏–∏:

–ö–∞–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—â–µ –≤—ã—Ä–∞–∂–∞—é—Ç –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ –∏–ª–∏ —Ä–∞–¥–æ—Å—Ç—å –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–µ–º–∞–º?
–ê–Ω–∞–ª–∏–∑ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π:

–ö–∞–∫ reply-—Ü–µ–ø–æ—á–∫–∏ –∏ —Ä–µ–∞–∫—Ü–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ —Ç–µ–º—ã?
5. –ß—Ç–æ –Ω—É–∂–Ω–æ —É—á–µ—Å—Ç—å
–¢–æ—á–Ω–æ—Å—Ç—å LDA: –ú–æ–¥–µ–ª—å —Ç–µ–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ö–æ—Ä–æ—à–æ –æ–±—É—á–µ–Ω–∞, —á—Ç–æ–±—ã –∞–¥–µ–∫–≤–∞—Ç–Ω–æ —Å–≤—è–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ç–µ–º–∞–º–∏.
–°–ª–æ–∂–Ω—ã–µ —ç–º–æ—Ü–∏–∏: –ï—Å–ª–∏ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ —ç–º–æ—Ü–∏–∏, —ç—Ç–æ –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é.
–ö–æ–Ω—Ç–µ–∫—Å—Ç: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ reply-—Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–∞–∫—Ü–∏–∏ –º–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å –∞–Ω–∞–ª–∏–∑.
–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≤—è–∑—ã–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏ –∏ —Ç–µ–º—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–æ–Ω–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö. –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–µ—Ç–∞–ª–∏ –∏–ª–∏ –ø—Ä–∏–º–µ—Ä—ã, –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏! üöÄ

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥






